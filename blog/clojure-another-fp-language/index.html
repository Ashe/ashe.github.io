<!doctype html>
<html lang="en">
  <head>
    <!-- Metadata -->
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title" content="Clojure: Another functional programming language">
    <meta property="og:description" content="I've always been aware of the Lisp language, but always been afraid to dive in. However, after reading 'Clojure for the brave and true', I now recognise Clojure as a simple, pleasant and powerful language.">
    <meta property="og:url" content="https://aas.sh/blog/clojure-another-fp-language/">
    <meta property="og:image" content="https://res.cloudinary.com/aas-sh/image/upload/v1617292812/blog/2019/07/brave_clojure_hiwogp.png">
    <title>Clojure: Another functional programming language</title>

    <!-- Favicons -->
    <link rel="alternate" type="application/rss+xml" title="RSS Feed" href="../../rss.xml">
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="../../atom.xml">
    <link rel="apple-touch-icon" sizes="180x180" href="../../assets/images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../assets/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../assets/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="../../assets/images/favicon/site.webmanifest">

    <!-- Style -->
    <link rel="stylesheet" href="../../assets/css/main.css">
    <link rel="stylesheet" href="../../assets/thirdparty/line-awesome/css/line-awesome.min.css">
    <link rel="stylesheet" href="../../assets/thirdparty/swiperjs/swiper-bundle.min.css">

    

    <!-- Important JS that needs to be loaded up front -->
    <script src="../../assets/scripts/init-darkmode.js"></script>
    <script src="../../assets/thirdparty/swiperjs/swiper-bundle.min.js"></script>
    

  </head>

  <body>
    <nav id="navbar-container">
  <div class="container is-mobile is-max-desktop">
    <div class="columns is-mobile">

      <div class="column nav-section has-text-left">
        <a id="nav-menu-trigger" class="icon-text">
          <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="square" stroke-linejoin="miter" stroke-width="1.5" d="M4 6h20 M4 12h20 M4 18h20"></path>
            </svg>
          </span>
          <span class="is-uppercase is-size-7">Menu</span>
        </a>
      </div>

      <div class="column nav-section has-text-centered">
        <a href="../../">
          <span class="is-size-7">aas.sh</span>
        </a>
      </div>

      <div class="column nav-section has-text-right">
        
          <a id="nav-toc-trigger">
            <span class="mr-2 is-uppercase is-size-7">
              <span class="mobile">Content</span>
              <span class="desktop">Table of Contents</span>
            </span>
          </a>
        

        <span class="theme-toggle ml-2 my-auto">
          <button id="theme-toggle-light" type="button" class="hidden">
            <i class="lar la-moon is-clickable"></i>
          </button>
          <button id="theme-toggle-dark" type="button" class="hidden">
            <i class="lar la-sun is-clickable"></i>
          </button>
        </span>
      </div>

    </div>
  </div>

  <div id="nav-menu" class="container is-max-widescreen apply-shadow">
    <div class="columns">
      <div class="column">
        <ul>
          <a href="../../"><li class="is-uppercase">Home</li></a>
          <li><a href="../../about/">About</a></li>
          <li><a href="../../archive/">Archive</a></li>
          <li><hr></li>
          <li>
            <div>
  <a class="p-1" href="mailto:contact@aas.sh"><i class="las la-envelope-open-text"></i></a>
  <a class="p-1" href="https://linkedin.com/in/itsashe"><i class="lab la-linkedin-in"></i></a>
  <a class="p-1" href="https://github.com/ashe"><i class="lab la-github"></i></a>
  <a class="p-1" href="https://instagram.com/theofficialashe"><i class="lab la-instagram"></i></a>
</div>

          </li>
        </ul>
      </div>
      <div class="column">
        <ul>
          <a href="../../projects/"><li class="is-uppercase">Projects</li></a>
          <li><a href="../../projects/">All Projects</a></li>
          <li><a href="../../posts-by-project/">Posts By Project</a></li>
          <li><hr></li>
          <li class="items-center">
            <i class="las la-snowflake"></i>
            <a href="https://github.com/ashe/dotfiles">
              NixOS Config
            </a>
          </li>
        </ul>
      </div>
      <div class="column">
        <ul>
          <a href="../../blog/"><li class="is-uppercase">Blog</li></a>
          <li><a href="../../blog/">All Posts</a></li>
          <li>
            <i class="las la-rss"></i>
            <a href="../../rss.xml">RSS</a>
            <a href="../../atom.xml">Atom</a>
          </li>
          <li><hr></li>
          <li>
            <i class="las la-code-branch"></i>
            Current rev.: 
            <a href="https://github.com/ashe/ashe.github.io/commit/871ce24">
              871ce24: Updated swiper sha
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>

  
    <div id="nav-toc" class="table-of-contents">
      <ul class><li><a href="#the-basics">The basics</a></li><li><a href="#code-as-data-thinking-differently">Code as Data: Thinking differently</a></li><li><a href="#final-thoughts">Final thoughts</a></li></ul>
    </div>
  

</nav>


    <main class="my-4">
      <section>
  

  <div id="article-hero" class="container">
    <div class="inner apply-shadow">
      
        <img class="standalone" src="https://res.cloudinary.com/aas-sh/image/upload/v1617292812/blog/2019/07/brave_clojure_hiwogp.png" alt="Article image">
      
    </div>
  </div>



<header id="article-header" class="container is-max-widescreen">
  <div class="columns is-vcentered is-8">

    <div class="column p-4">
      <h1 class="title is-1">Clojure: Another functional programming language</h1>
      
        <h2 class="subtitle is-4">An insight into my experiences with Clojure.</h2>
      
      
        <div class="description">
          I've always been aware of the Lisp language, but always been afraid to dive in. However, after reading 'Clojure for the brave and true', I now recognise Clojure as a simple, pleasant and powerful language.
        </div>
      
      <div class="authors is-monospace">
        <span class="is-size-7">
          
            Ashley Rose
          
        </span>
      </div>
    </div>

    <div class="column is-one-third p-4">
      <div class="is-monospace is-size-7">
        <ul>
          
            <li class="mt-1">
              <i class="las la-calendar-day"></i> July 20, 2019
            </li>
          
          
            <li class="mt-1">
              <i class="las la-stopwatch"></i> 12 Minutes
            </li>
          
          
          
            <li class="mt-1 break-words has-text-left">
              <i class="las la-tags"></i>
              <div class="tags" style="display:inline;">
                
                  <a class="tag Tutorial" href="../../tag/Tutorial/">Tutorial</a>
                
                  <a class="tag Web" href="../../tag/Web/">Web</a>
                
                  <a class="tag Clojure" href="../../tag/Clojure/">Clojure</a>
                
                  <a class="tag Functional" href="../../tag/Functional/">Functional</a>
                
              </div>
            </li>
          
          
            <li style="margin-top:-0.25rem;">
              <i class="las la-code-branch"></i>
              <a href="https://github.com/ashe/ashe.github.io/commit/b7c1df1">b7c1df1: Added OpenGL and DirectX tags to better reflect experience</a>
            </li>
          
        </ul>
      </div>
    </div>

  </div>
</header>


<div class="container is-widescreen mb-2">
  <div class="columns is-desktop is-centered m-0">

    
      <div id="side-toc" class="column is-3">
        <div class="table-of-contents">
          <ul class><li><a href="#the-basics">The basics</a></li><li><a href="#code-as-data-thinking-differently">Code as Data: Thinking differently</a></li><li><a href="#final-thoughts">Final thoughts</a></li></ul>
        </div>
      </div>
    

    <div class="column">
      <article class="container is-max-desktop">
        <div class="columns is-desktop is-centered">
          <div class="column can-shrink-for-toc">
            <p>I’ve always been aware of the <a href="https://en.wikipedia.org/wiki/Lisp_(programming_language)">Lisp</a> language family, but always been afraid to dive in. It was always mysterious and taking the forms of various languages. However, after being shown the book <a href="https://www.braveclojure.com/clojure-for-the-brave-and-true/">‘Clojure for the brave and true’ by Daniel Higginbotham</a>, I now recognise <a href="https://clojure.org/">Clojure</a> as a simple, pleasant and powerful language that everyone should try. Clojure is a dynamically typed language, meaning that while it is <a href="https://en.wikipedia.org/wiki/Functional_programming">functional</a> like <a href="https://www.haskell.org/">Haskell</a> (my favourite language), it is an entirely different experience to write. Rather than starting your implementation thinking about types and converting the flow of data from type to type, you instead start thinking about everything <em>the Lisp way</em>.</p>
<section id="the-basics" class="article-section">
<h1><span>The basics</span><a href="#the-basics" class="anchor las la-link" title="the-basics"></a></h1>
<p>I didn’t really recognise what this meant until I had learned enough Clojure to begin using libraries made by other people. I had begun <a href="../../project/space">Space</a> and was thoroughly enjoying taking a deep dive into using Clojure with a package called <a href="https://github.com/reagent-project/reagent">Reagent</a>, a way of using <a href="https://reactjs.org/">Facebook’s React</a>. In order for me to show how cool Clojure is though, I need to give a quick run down on what a function looks like. With the help of <a href="https://www.braveclojure.com/">Brave Clojure</a>, I can tell you now that <strong><em>anyone</em></strong> can learn this in about 2-3 weeks. The language itself is simple, and while the concepts may get a little complex, it is nowhere near as complex as Haskell to get simple programs going.</p>
<p>Clojure runs on the <a href="https://en.wikipedia.org/wiki/Java_virtual_machine">JVM</a> and can interact with <a href="https://go.java/index.html?intcmp=gojava-banner-java-com">Java</a> in a similar way to how <a href="https://isocpp.org/">C++</a> can interact with <a href="https://en.wikipedia.org/wiki/C_%28programming_language%29">C</a> (although the way they’re written is no where near as similar as C++ and C are). Also like Java, <a href="https://clojurescript.org/">ClojureScript</a> exists and writes in pretty much the same way as regular Clojure, and ClojureScript can interact with <a href="https://www.javascript.com/">JavaScript</a> just like how Clojure can interact with Java — yes, this means that you <em>may</em> not need to write <strong><em>any</em></strong> <code>JS</code> code for your web app!</p>
<p>I don’t want re-write <a href="https://www.braveclojure.com/">Brave Clojure</a> (yes I will plug this book every time I reference it as it is absolutely incredible) as frankly there’s nothing to improve on. I’ll only explain what I feel is necessary for this blog post.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">; Global, immutable variable</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> the-number-one </span><span class="dv">1</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co">; Print it</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>(<span class="kw">print</span> the-number-one)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co">; Function call example (returns 6)</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>(<span class="kw">+</span> the-number-one <span class="dv">2</span> <span class="dv">3</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co">; Function definition</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co">; Note: The last line is what is returned</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>(<span class="bu">defn</span><span class="fu"> add-one-to-number</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;This is a docstring, it should describe the function.&quot;</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  [<span class="kw">num</span>]</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">+</span> <span class="kw">num</span> the-number-one))</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co">; Declare a vector</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> a-vector </span>[<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>])</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="co">; Add one to everything in the vector and print it</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="co">; Note the braces ARE NOT optional unlike Haskell where sometimes they can be</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>(<span class="kw">print</span> (<span class="kw">map</span> add-one-to-number a-vector))</span></code></pre></div>
<p>Every function call in Lisp uses braces and no commas. You put the function name at the start, and then <em>all</em> it’s parameters afterwards. If you know Haskell, note that <a href="https://wiki.haskell.org/Currying">currying</a> isn’t done by default (use the function <code>partial</code> if you want to partially apply functions). While there are plenty more features, I’m not going to go into everything as, again, <a href="https://www.braveclojure.com/">Brave Clojure</a> covers everything you need to know. However, there are a few things I do need to draw attention to regarding the parameter for <code>add-one-to-number</code>.</p>
<p>First, Clojure is dynamically typed, and so while it might be obvious we’re talking about numbers, as long as the <code>+</code> function accepts the right type, this function will work. We don’t need to specify a variable or group of variables like in Haskell, as it is <em>dynamic</em>.</p>
<p>Second, the <strong>entire</strong> line is the parameter. If you’re familiar with Haskell’s <a href="https://en.wikibooks.org/wiki/Haskell/Pattern_matching">pattern matching</a> for binding variables, this is similar. <code>[num]</code> represents a <code>vector</code> with <code>num</code> being the first element. With Clojure being a dynamic language, anything can be <code>nil</code>, so this doesn’t break if the vector is empty as long as <code>num</code> is checked to not be <code>nil</code>. Here’s some more examples to illustrate this functionality:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">; Add one to a number and print the result before returning</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">; Note: docstrings are optional</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">; Note: new-num is NOT a function but a variable and so there's no braces</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>(<span class="bu">defn</span><span class="fu"> add-one-to-number</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  [<span class="kw">num</span>]</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">let</span> [new-num (<span class="kw">+</span> <span class="dv">1</span> <span class="kw">num</span>)]</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">print</span> new-num)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    new-num))</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co">; Add two numbers</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>(<span class="bu">defn</span><span class="fu"> add-two-numbers</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  [a b]</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">+</span> a b))</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="co">; Print all elements given as a vector</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co">; Note: This will place elements into a vector for printing purposes</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>(<span class="bu">defn</span><span class="fu"> print-args</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  args</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">print</span> args))</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="co">; Function with optional arguments</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a><span class="co">; Note: Optional arguments come after the &amp; in their own vector</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="co">; Note: This isn't a good idea as other arguments given are silently ignored</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>(<span class="bu">defn</span><span class="fu"> print-up-to-two-nums</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>  [&amp; [a b]]</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">print</span> a)</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">print</span> b))</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>(print-up-to-two-nums <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span>) <span class="co">; =&gt; prints 1 and 2, 3 is ignored but consumed</span></span></code></pre></div>
<p>It should be noted that with the use of <code>let</code> to bind a value, the variable <code>new-num</code> is only accessible within the scope of the let call. It cannot be used outside the braces surrounding the let call. It may look unreadable to some people but you soon get used to the number of braces used while writing Lisp code.</p>
<div class="caption-frame apply-shadow">
<img src="https://res.cloudinary.com/aas-sh/image/upload/v1617292932/blog/2019/07/languages_meme_lisp_smdrnm.png" title="A dumb but funny lisp meme." class="w-full object-cover" alt="A dumb but funny lisp meme." />
<div class="caption">
<p>A dumb but funny lisp meme.</p>
<div class="caption-source">
<a href="https://res.cloudinary.com/aas-sh/image/upload/v1617292960/blog/2019/07/languages_meme_full_f54fux.jpg" title="Git the princess - Mart Virkus 2016">Git the princess - Mart Virkus 2016</a>
</div>
</div>
</div>
<p>Now lets look at that <a href="https://github.com/reagent-project/reagent">Reagent</a> library again.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>(<span class="bu">defn</span><span class="fu"> some-component </span>[]</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  [<span class="at">:div</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>   [<span class="at">:h3</span> <span class="st">&quot;I am a component!&quot;</span>]</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>   [<span class="at">:p.someclass</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;I have &quot;</span> [<span class="at">:strong</span> <span class="st">&quot;bold&quot;</span>]</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    [<span class="at">:span</span> {<span class="at">:style</span> {<span class="at">:color</span> <span class="st">&quot;red&quot;</span>}} <span class="st">&quot; and red&quot;</span>]</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot; text.&quot;</span>]])</span></code></pre></div>
<p>Don’t be frightened! Let’s break it down. Firstly, the parameter list is on the same line as the function name, and so <code>[]</code> indicates this function takes no parameters. We know it’s a function, as <code>defn</code> is used as opposed to <code>def</code>, indicating that it’s a function and not a variable. Things starting with a colon, such as <code>:div</code>, <code>:h3</code> or <code>:p.someclass</code> are <code>keywords</code> — they are sort of special, but they can be treated similar to strings in the sense that you can print them, check for equality etc. This is where things get interesting, as it’s the first time I was exposed to the Lisp philosophy:</p>
<blockquote>
<p>Code-as-data, Data-as-code: the idea that you can use data structures to represent executable code.</p>
</blockquote>
</section>
<section id="code-as-data-thinking-differently" class="article-section">
<h1><span>Code as Data: Thinking differently</span><a href="#code-as-data-thinking-differently" class="anchor las la-link" title="code-as-data-thinking-differently"></a></h1>
<p>If you’ve done any amount of web development, that snippet may have some meaning to you. If you look carefully at the structure, you can see that the <code>Vector</code>s are both nested and containing various different types. Try flattening the vector in your head and you’ll see that it is just one long list of variables, starting with <code>:div</code>, then another <code>Vector</code> containing <code>:h3</code> and <code>"I am a component!"</code>, and so forth.</p>
<p>Looking at <a href="https://github.com/reagent-project/reagent">Reagent’s</a> readme, you can see that <a href="https://github.com/weavejester/hiccup">Hiccup</a> is used to represent <a href="https://www.w3schools.com/html/">HTML</a>. Hiccup will take one long <code>Vector</code> of data and turn it into something Reagent can use. As mentioned, Reagent allows you to use React with Clojure, which allows you to create web apps. To put it in layman’s terms, that snippet allows you to create a website without writing standard HTML! Let’s go into more detail:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode clj"><code class="sourceCode clojure"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">; Vector of stuff. Imagine if you got this from some database or user interaction</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>(<span class="bu">def</span><span class="fu"> names </span>[<span class="st">&quot;Ashley&quot;</span> <span class="st">&quot;Totoro&quot;</span> <span class="st">&quot;Kiki&quot;</span>])</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co">; Bullet point list of names</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co">; This function maps an anonymous function onto the above Vector</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co">; This anonymous nothing but returns another Vector with :li prepending the name</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>(<span class="bu">defn</span><span class="fu"> some-component </span>[]</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  [<span class="at">:div</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    (<span class="kw">when</span> (<span class="kw">not</span> (<span class="kw">empty?</span> names))</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>      [<span class="at">:h1</span> <span class="st">&quot;Cool people:&quot;</span>])</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    [<span class="at">:ul</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>      (<span class="kw">map</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>        (<span class="kw">fn</span> [<span class="kw">name</span>]</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>          [<span class="at">:li</span> <span class="kw">name</span>]))</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>        names]])</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="co">; This is how you'd combine components together</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>(<span class="bu">defn</span><span class="fu"> your-web-page </span>[]</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  [<span class="at">:div</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>    [header]</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    [navbar]</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>    [<span class="at">:article</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>      [<span class="kw">content</span>]</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>      [some-component]</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>      [some-other-component]]])</span></code></pre></div>
<p>I tried to be a little more complex with this example. We have some data in <code>names</code> of some pretty cool characters. The goal is to create a way of dynamically rendering each of these names to the page (in Reagent, the page will actually change if you use a mutable variables using <code>atom</code>s) without hard coding or doing anything laborious. The function <code>When</code> takes two parameters, the first being a condition and the second being absolutely anything you want this function call to evaluate to when <code>true</code> as opposed to being <code>nil</code> when <code>false</code>. The page will only say <code>Cool People:</code> if there’s one or more elements inside <code>names</code>. Hiccup will ignore any <code>nil</code>s inside data, and so if <code>names</code> does become empty, the element simply disappears from the <a href="https://www.w3schools.com/js/js_htmldom.asp">DOM</a>.</p>
<p>Next, a function is <code>map</code>ped onto every name in <code>names</code>. This function transforms the element into another <code>Vector</code> with <code>:li</code> (for <a href="https://www.w3schools.com/TAGS/tag_li.asp">list-item</a>). If there are no elements in the vector, nothing will appear similar to the <code>"Cool People"</code> message. This results in a web page that is responsive to changes in data, just like any other React app — but with the advantages of a language like Clojure.</p>
<p>Finally, when calling using the functions, we wrap them into <code>Vector</code>s as we aren’t actually calling them here — while we could call them, Hiccup will handle it for us if we use <code>Vector</code>s. While there’s some technical differences between the ways you use your own components, it’s pretty easy either way. Passing functions around inside <code>Vector</code>s without calling them is quite common too, depending on the frameworks you use.</p>
<p>This rabbit hole goes as deep as you like, and this philosophy of swapping data with functions interchangeably is a powerful one. I used Clojure for the API server of <a href="../../project/space">Space</a> as well as the front-end, and the idea of code and data being the same thing is very consistent with all of the libraries I used. While Haskell’s libraries like to define their own <a href="https://wiki.haskell.org/Monad">monads</a> and <a href="https://wiki.haskell.org/Type">types</a>, Clojure’s libraries all seemed to deal with plain types and <code>Keyword</code>s and so they could use each other’s data easily. Remember that a <code>Keyword</code> is like a <code>String</code>, so there’s no special construction mechanism or any rules for passing them around, they can be used in the same places that <code>String</code>s are and are typically used for special interactions with the libraries you find, as you can see in the above snippets.</p>
</section>
<section id="final-thoughts" class="article-section">
<h1><span>Final thoughts</span><a href="#final-thoughts" class="anchor las la-link" title="final-thoughts"></a></h1>
<p>Clojure is great, and I learned the basics in a week and a half all thanks to <a href="https://www.braveclojure.com/">Brave Clojure</a>. The braces can get a little overwhelming at first, but once you overcome it, Lisp code is very pleasant to work with. It is a dynamic language, so it does sacrifice safety for ease — I think writing web-apps is a perfectly valid use case for Clojure but I’d still consider using Haskell’s type system so that the compiler can help me avoid faults before they occur. In Clojure, special variables are hard to come by with everything being plain data, and so the only times you’ll really get faults are when you try using a variable as a function, or if you use a function as a variable and the thing receiving it can’t handle it. Without static typing, it’s easier to get things done but harder to prevent runtime errors without caution.</p>
<p>Haskell is entirely pure, and printing things to the screen can get a little tough especially when you’re trying to inject print messages into other functions (you’ll infect everything with the <code>IO Monad</code> etc, I won’t go into it but you can get around it). In Clojure, Monads aren’t really a thing, and the language itself isn’t strictly pure although pure functions are highly encouraged and incentivised. This means that you can <em>do</em> multiple things with the same function, like when I printed a number and then returned it in one of the snippets above. Again, <strong><em>Clojure is easy</em></strong> and lovely to work with. I still love Haskell and it’s type system, I can certainly see many valid situations where I’d definitely use Clojure over Haskell.</p>
<p>Thanks for reading.</p>
</section>
          </div>
        </div>
      </article>
    </div>

  </div>
</div>

</section>



<div id="post-links">
  <div class="columns is-desktop">

    <div class="column left">
      
        
          <div class="post-link apply-shadow hover">
            <div class="w-full is-flex is-flex-direction-row">
              <img src="https://raw.githubusercontent.com/Ashe/HSRogue/master/img/gameplay.gif">
              <div class="link-info p-3 w-full">
                <small class="is-uppercase is-size-7 is-sans-serif">Previous Post</small>
                <h5 class="title is-5 m-0"><a href="../../blog/making-a-game-with-haskell-and-apecs/" class="no-underline">An Introduction to game development in Haskell using Apecs</a></h3>
                <h6 class="subtitle is-6">A post about how I used Apecs ECS framework to make 'HSRogue'.</h6>
              </div>
            </div>
          </div>
        
      
    </div>

    <div class="column right">
      
        
          <div class="post-link apply-shadow hover">
            <div class="w-full is-flex is-flex-direction-row">
              <div class="link-info p-3 w-full">
                <small class="is-uppercase is-size-7 is-sans-serif">Next Post</small>
                <h5 class="title is-5 m-0"><a href="../../blog/no-longer-a-student/" class="no-underline">No longer a student</a></h3>
                <h6 class="subtitle is-6">An update about my experiences with finding employment after uni.</h6>
              </div>
              <img src="https://res.cloudinary.com/aas-sh/image/upload/v1617293178/blog/2020/06/student_meme_1_x80vax.png">
            </div>
          </div>
        
      
    </div>

  </div>
</div>

    </main>

    <footer>
  <div class="container is-max-desktop">
    <div class="columns">

      <div class="column">
        <h3 class="title is-5">Contact</h3>
        <ul class="ml-1 ">
          <li>
            <a href="mailto:contact@aas.sh" class="no-underline">
              <i class="las la-envelope-open-text"></i> contact@aas.sh
            </a>
          </li>
          <li>
            <a href="https://github.com/ashe" class="no-underline">
              <i class="lab la-github"></i> github.com/ashe
            </a>
          </li>
          <li>
            <a href="https://linkedin.com/in/itsashe" class="no-underline">
              <i class="lab la-linkedin"></i></svg> linkedin.com/in/itsashe
            </a>
          </li>
        </ul>
      </div>

      <div class="column">
        <h3 class="title is-5">About this blog</h3>
        <ul class="ml-1">
          <li>
            Built with <i class="las la-code"></i> and <i class="lar la-heart"></i> using <a href="https://jaspervdj.be/hakyll/">Hakyll</a>
          </li>
          <li id="git-hash">
            <i class="las la-code-branch"></i> 
            Last updated: 
            <a href="https://github.com/ashe/ashe.github.io">871ce24: Updated swiper sha (2024-07-27 09:40:18 +0100)</a>
          </li>
          <li>
            <a href="https://builtwithnix.org" rel="nofollow">
              <img src="https://builtwithnix.org/badge.svg" alt="Built with Nix">
            </a>
          </li>
        </ul>
      </div>

      <div id="footer-logo" class="column">
        <a href="../../">
          <img src="../../assets/images/logo.png" alt="Aas.sh site logo">
        </a>
      </div>

    </div>
  </div>
</footer>


    <script src="../../assets/scripts/darkmode.js"></script>
    <script src="../../assets/scripts/navbar-menu.js"></script>
    <script src="../../assets/scripts/navbar-toc.js"></script>
    <link rel="stylesheet" href="../../assets/thirdparty/katex/katex.min.css">
    <script defer src="../../assets/thirdparty/katex/katex.min.js"></script>
    <script type="text/javascript" script defer src="../../assets/thirdparty/katex/contrib/auto-render.min.js" onload="renderMathInElement(document.body);">
    </script>

    
      <script src="../../assets/thirdparty/vanillajs-scrollspy/vanillajs-scrollspy.min.js"></script>
      <script src="../../assets/scripts/init-scrollspy.js"></script>
    
  </body>

</html>
