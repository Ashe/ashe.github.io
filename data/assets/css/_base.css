@layer base {

  html {
    @apply text-body text-dark;
    background: var(--bg-body);
  }

  section.container {
    display: flow-root;
    @apply py-10;
  }

  article {

    h1, h2, h3, h4, h5, h6 {
      @apply flex;
      .anchor {
        @apply ml-auto min-w-min text-muted no-underline flex text-xl;
        &::before {
          @apply m-auto;
        }
        &:hover {
          color: inherit;
        }
      }
    }

    .box.note {
      @apply bg-note;
    }

    .box.help {
      @apply bg-help;
    }

    .box.warning {
      @apply bg-warning;
    }

    .box.danger {
      @apply bg-danger;
    }

    .box.gitrepo {
      @apply bg-gitrepo;
    }

    .box.itch {
      @apply bg-itch;
    }
  }

  header {
    & ul {
      @apply list-none mx-0;
    }
    & a {
      text-decoration: none;
    }
  }

  .toc a {
    @apply no-underline;
  }

  .dark {
    @apply bg-night;

    p {
      @apply text-white;
    }

    .even {
      @apply bg-mutedNight;
    }

    emph, .text-emphasis {
      @apply text-emphasizedNight;
    }

    & a:not(.toc *) {
      @apply text-emphasizedNight;
    }

    em {
      @apply text-highlightNight;
    }

    & a:hover {
      @apply text-highlight;
    }

    + .text-muted, .text-muted {
      @apply text-mutedNight;
    }

    hr {
      @apply border-hrNight;
    }

    article {

      .box.note {
        @apply bg-noteNight;
      }

      .box.help {
        @apply bg-helpNight;
      }

      .box.warning {
        @apply bg-warningNight;
      }

      .box.danger {
        @apply bg-dangerNight;
      }

      .box.gitrepo {
        @apply bg-gitrepoNight;
      }

      .box.itch {
        @apply bg-itchNight;
      }
    }
  }

  header {
    font-size: 110%;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-standout mb-2 !important;
  }

  h1, h2, h3 {
    & > small {
      @apply mt-4;
      font-size: 60%;
    }
  }

  *+h1, *+h2, *+h3, *+h4, *+h5, *+h6 {
    @apply mt-8;
  }

  h1 {
    @apply text-3xl;
  }

  h2 {
    @apply text-2xl;
  }

  h3 {
    @apply text-xl;
  }

  h4 {
    @apply text-lg;
  }

  h5 {
    @apply font-semibold;
  }

  h6 {
    @apply italic;
  }

  hr {
    @apply bg-hr;
  }

  pre {
    @apply my-6;
    overflow-x: auto;

    .sourceCode {
      @apply p-4 min-w-full block;
      background-color: var(--bg-code);
      width: fit-content;

      @apply sm:px-8;
    }
  }

  code {
    @apply text-sm rounded p-1 text-code;
    background-color: var(--bg-code);
  }


  p, ul, ol, dl, pre, address, fieldset, figure {
    @apply mb-4;
  }

  *+p, *+ul, *+ol, *+dl, *+pre, *+address, *+fieldset, *+figure  {
    @apply mt-4;
  }

  dl {
    display: flex;
    flex-wrap: wrap;
    width: 100%;
    align-items: start;
    dt {
      box-sizing: border-box;
      width: 33%;
      text-align: right;
      padding-right: 12px;
    }

    dd {
      width: 66%;
      margin: 0;
      &+ dd {
        margin-top:4px;
        margin-left:33%;
      }
      &+ dt, & + dt + dd {
        margin-top: 8px;
      }
    }

  }

  a {
    @apply underline hover:text-highlight;
    color: inherit;
    text-decoration-color: inherit;
    * {
      @apply hover:text-highlight;
      text-decoration-color: inherit;
    }
  }

  em a {
    @apply hover:text-black;
  }

  blockquote {
    @apply font-serif text-lg border-l border-gray-600 pl-8 my-5;
  }

  .footnotes .footnote-back {
    font: caption;
  }

  em {
    @apply text-highlight;
  }

  &:not(.uk-card-body) a {
     text-decoration: underline;
  }
  .footnotes a {
    text-decoration: none;
  }

  ul, ol {
    @apply ml-10 my-6;
    &:not([horizontal]) > :nth-child(n+2) {
      @apply mt-2;
    }
  }

  article ul {
    @apply list-disc;
  }

  ul[horizontal] {
    @apply list-none flex;
  }

  ol {
    @apply list-decimal ml-8;
  }

  ul li ul, ol li ul, ul li ol, ol li ol {
    @apply mt-0
  }

  li {
    @apply items-center;
  }

  table {
    @apply block table-auto overflow-auto m-auto overflow-hidden p-5;
  }

  td {
    @apply border px-4 py-2;
  }

  tr.even {
    @apply bg-gray-100;
  }

  a, span, li {
    & svg {
      display: inline;
    }
  }

  svg {
    stroke: currentColor;
    fill: currentColor;
  }

  .mjx-chtml.MJXc-display {
    overflow: scroll;
  }

  .la, .lab, .lad, .lal, .lar, .las {
    font-size: 150%;
    vertical-align: text-bottom;
  }

  .swiper-slide {
    @apply mx-auto;
  }

  .small-slides .swiper-slide {

    @screen sm {
      @apply w-1/2;
    }
    @screen md {
      @apply w-1/3;
    }
  }

  .shadow-xl, .shadow-2xl {
    transition: box-shadow 0.08s ease-in-out;
  }
}
